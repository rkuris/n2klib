<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>n2klib: n2k::MessagePool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">n2klib
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">NMEA2000_processing_library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>n2k</b></li><li class="navelem"><a class="el" href="classn2k_1_1MessagePool.html">MessagePool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classn2k_1_1MessagePool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">n2k::MessagePool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains a set of Messages and states.  
 <a href="classn2k_1_1MessagePool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="n2k_8h_source.html">n2k.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abeecc41b62edcbea8239a7e7647ff26e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classn2k_1_1MessagePool.html#abeecc41b62edcbea8239a7e7647ff26e">MessagePool</a> (const <a class="el" href="n2k_8h.html#afd2c09ba4cb7158836f183b438d0e905">PoolSizeType</a> poolSize=DEFAULT_POOL_SIZE)</td></tr>
<tr class="separator:abeecc41b62edcbea8239a7e7647ff26e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48449f1adf5710b22b732268661ea48f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classn2k_1_1MessageWithState.html">MessageWithState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classn2k_1_1MessagePool.html#a48449f1adf5710b22b732268661ea48f">ingest</a> (const <a class="el" href="classn2k_1_1Packet.html">Packet</a> &amp;packet, const <a class="el" href="n2k_8h.html#aa2f810bdde3125d2265420b89d89027c">PGNType</a> type)</td></tr>
<tr class="separator:a48449f1adf5710b22b732268661ea48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4949a7a305fd74d16621f7e484c7f345"><td class="memItemLeft" align="right" valign="top"><a id="a4949a7a305fd74d16621f7e484c7f345"></a>
static const <a class="el" href="n2k_8h.html#afd2c09ba4cb7158836f183b438d0e905">PoolSizeType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_POOL_SIZE</b> = 5</td></tr>
<tr class="separator:a4949a7a305fd74d16621f7e484c7f345"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9ac42a22d3946e72ea5a85163715c1df"><td class="memItemLeft" align="right" valign="top"><a id="a9ac42a22d3946e72ea5a85163715c1df"></a>
std::vector&lt; <a class="el" href="classn2k_1_1MessageWithState.html">MessageWithState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mPool</b></td></tr>
<tr class="separator:a9ac42a22d3946e72ea5a85163715c1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f10cb3252600774c6a59e37cd6e228"><td class="memItemLeft" align="right" valign="top"><a id="a17f10cb3252600774c6a59e37cd6e228"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>in</b></td></tr>
<tr class="separator:a17f10cb3252600774c6a59e37cd6e228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab393996bb8756170f5628f9eef07187e"><td class="memItemLeft" align="right" valign="top"><a id="ab393996bb8756170f5628f9eef07187e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>out</b></td></tr>
<tr class="separator:ab393996bb8756170f5628f9eef07187e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a5a772980dafd9ef3b24e67b3e2477"><td class="memItemLeft" align="right" valign="top"><a id="ae0a5a772980dafd9ef3b24e67b3e2477"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>discards</b></td></tr>
<tr class="separator:ae0a5a772980dafd9ef3b24e67b3e2477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59da766cd25cbfbfe6d1479e22df812d"><td class="memItemLeft" align="right" valign="top"><a id="a59da766cd25cbfbfe6d1479e22df812d"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>kPacketMask</b> = 0x1f</td></tr>
<tr class="separator:a59da766cd25cbfbfe6d1479e22df812d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains a set of Messages and states. </p>
<p>A <a class="el" href="classn2k_1_1MessagePool.html" title="Contains a set of Messages and states. ">MessagePool</a> holds a set of Messages, along with some metadata about each message state</p>
<p>Packets are sometimes whole NMEA2000 messages, but often they are just part of a message. In the case of a partial message, the <a class="el" href="classn2k_1_1MessagePool.html" title="Contains a set of Messages and states. ">MessagePool</a> is used to hold the parts until a whole message is fetched.</p>
<p><a class="el" href="classn2k_1_1Message.html" title="Contains a single NMEA 2000 message. ">Message</a> objects managed by this class start off with m_busy = 0 </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abeecc41b62edcbea8239a7e7647ff26e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeecc41b62edcbea8239a7e7647ff26e">&#9670;&nbsp;</a></span>MessagePool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">n2k::MessagePool::MessagePool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="n2k_8h.html#afd2c09ba4cb7158836f183b438d0e905">PoolSizeType</a>&#160;</td>
          <td class="paramname"><em>poolSize</em> = <code>DEFAULT_POOL_SIZE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a <a class="el" href="classn2k_1_1MessagePool.html" title="Contains a set of Messages and states. ">MessagePool</a> of a given size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">poolSize</td><td>The size of the pool, in number of messages. On low memory machines, set this below the default of 5. If you have lots of memory, and lots of talkers that send partial messages, set this higher, same as the number of talkers (maybe 10 or 20). Not sure? Use the default.</td></tr>
  </table>
  </dd>
</dl>
<p>The risk of having this too low is that you might lose a packet. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a48449f1adf5710b22b732268661ea48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48449f1adf5710b22b732268661ea48f">&#9670;&nbsp;</a></span>ingest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classn2k_1_1MessageWithState.html">MessageWithState</a>* n2k::MessagePool::ingest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classn2k_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="n2k_8h.html#aa2f810bdde3125d2265420b89d89027c">PGNType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ingest a packet, typically from the CAN bus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>A reference to the <a class="el" href="classn2k_1_1Packet.html" title="8-byte packet (frame) ">Packet</a> to ingest </td></tr>
    <tr><td class="paramname">type</td><td>The type of this packet (Single or Fast)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If this completes a <a class="el" href="classn2k_1_1Message.html" title="Contains a single NMEA 2000 message. ">Message</a>, then a pointer to the message is returned, otherwise nullptr. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="n2k_8h_source.html">n2k.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
